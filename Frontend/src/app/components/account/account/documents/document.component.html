<div *ngIf="show" class="panel panel-default panel-inverse">
  <div class="panel-heading">
    <h3 > Управление документами</h3>
  </div>
  <div class="panel-body">
    <div class="header-panel-body">
      <h3>Действия</h3>
    </div>
    <div class="news-action-buttons">
      <div class="btn-group" role="group" aria-label="Basic example">
        <button (click)="displayDialog = true" type="button" class="btn btn-success">Добавить задачу</button>
      </div>
    </div>
    <div class="header-panel-body">
      <h3>Список задач</h3>
    </div>
    <div>
      <table class="table table-news">
        <thead class="thead-inverse">
        <tr>
          <th class="text-center" >ID</th>
          <th class="text-center" >Название</th>
          <th class="text-center" >Создатель задачи</th>
          <th class="text-center" >Статус</th>
          <th class="text-center" ></th>
          <th class="text-center" ></th>
        </tr>
        </thead>
        <tbody>
        <tr *ngFor="let item of issueList">
          <td class="text-center" id="id">{{item.id}}</td>
          <td class="text-center"  id="name">{{item.name}}</td>
          <td class="text-center" id="creator">{{item.creator.username}}</td>
          <td class="text-center" id="status">В процессе.</td>
            <td class="text-center" id="edit"><button (click)="ChangeIssue(item.id)" class="btn btn-warning"><i class="fa fa-pencil" aria-hidden="true"></i></button></td>
          <td class="text-center" id="remove"><button (click)="DeleteIssue(item.id)" class="btn btn-danger"><i class="fa fa-times" aria-hidden="true"></i></button></td>
        </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>

<p-dialog header="Редактирование задачи" [(visible)]="displayChangeDialog" modal="modal" width="300" [responsive]="true">
    <p>Название задачи:</p>
    <input type="text" class="form-control" id="header" name="header" placeholder="Название задчи" [(ngModel)]="issueName" />
    <p-autoComplete [(ngModel)]="executors" [suggestions]="results" (completeMethod)="searchUser($event)" [multiple]="true" field="username"></p-autoComplete>
    <p-footer>
        <button type="button" pButton icon="fa-check" (click)="UpdateIssue()" label="Изменить"></button>
    </p-footer>
</p-dialog>

<p-dialog header="Создание задачи" [(visible)]="displayDialog" modal="modal" width="300" [responsive]="true">
  <p>Введите название задачи:</p>
  <input type="text" class="form-control" id="header" name="header" placeholder="Название задчи" [(ngModel)]="issueName" />
  <p-autoComplete [(ngModel)]="executors" [suggestions]="results" (completeMethod)="searchUser($event)" [multiple]="true" field="username"></p-autoComplete>
  <p-footer>
    <button type="button" pButton icon="fa-check" (click)="CreateIssue()" label="Ок"></button>
  </p-footer>
</p-dialog>
